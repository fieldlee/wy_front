(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b9b47754"],{"043d":function(t,e,r){},"13cd":function(t,e,r){"use strict";r("043d")},"4bd4":function(t,e,r){"use strict";var a=r("58df"),n=r("7e2b"),o=r("3206");e["a"]=Object(a["a"])(n["a"],Object(o["b"])("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(t){const e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput(t){const e=t=>t.$watch("hasError",e=>{this.$set(this.errorBag,t._uid,e)},{immediate:!0}),r={_uid:t._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?r.shouldValidate=t.$watch("shouldValidate",a=>{a&&(this.errorBag.hasOwnProperty(t._uid)||(r.valid=e(t)))}):r.valid=e(t),r},validate(){return 0===this.inputs.filter(t=>!t.validate(!0)).length},reset(){this.inputs.forEach(t=>t.reset()),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout(()=>{this.errorBag={}},0)},resetValidation(){this.inputs.forEach(t=>t.resetValidation()),this.resetErrorBag()},register(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister(t){const e=this.inputs.find(e=>e._uid===t._uid);if(!e)return;const r=this.watchers.find(t=>t._uid===e._uid);r&&(r.valid(),r.shouldValidate()),this.watchers=this.watchers.filter(t=>t._uid!==e._uid),this.inputs=this.inputs.filter(t=>t._uid!==e._uid),this.$delete(this.errorBag,e._uid)}},render(t){return t("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:t=>this.$emit("submit",t)}},this.$slots.default)}})},"7c15":function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"f",(function(){return c})),r.d(e,"k",(function(){return l})),r.d(e,"j",(function(){return u})),r.d(e,"p",(function(){return d})),r.d(e,"d",(function(){return h})),r.d(e,"g",(function(){return p})),r.d(e,"h",(function(){return m})),r.d(e,"i",(function(){return f})),r.d(e,"e",(function(){return g})),r.d(e,"c",(function(){return b})),r.d(e,"b",(function(){return w})),r.d(e,"o",(function(){return _})),r.d(e,"n",(function(){return k})),r.d(e,"m",(function(){return y})),r.d(e,"l",(function(){return v}));var a=r("cee4"),n=r("4360");function o(t,e){return new Promise((r,n)=>{a["a"].get(t,{params:e}).then(t=>{r(t.data)}).catch(t=>{n(t)})})}function s(t,e,r){return new Promise((n,o)=>{null==r?a["a"].post(t,e).then(t=>{n(t.data)}).catch(t=>{o(t)}):a["a"].post(t,e,r).then(t=>{n(t.data)}).catch(t=>{o(t)})})}console.log("production"),a["a"].defaults.baseURL="http://www.wanyeel.com:5001/api",a["a"].defaults.timeout=1e4,a["a"].defaults.headers.post["Content-Type"]="application/json;charset=UTF-8",a["a"].interceptors.request.use(t=>{const e=n["a"].state.token;return e&&(t.headers.access_token=e),t},t=>Promise.error(t)),a["a"].interceptors.response.use(t=>200===t.status?Promise.resolve(t):Promise.reject(t),t=>{if(console.log(t),t.response.status){switch(t.response.status){case 401:(void 0).$router.replace({path:"/login",query:{redirect:(void 0).$router.currentRoute.fullPath}});break;case 403:localStorage.removeItem("token"),n["a"].commit("setToken",null),setTimeout(()=>{(void 0).$router.replace({path:"/login",query:{redirect:(void 0).$router.currentRoute.fullPath}})},1e3);break;case 404:break;default:break}return Promise.reject(t.response)}});const i=(t,e)=>o(t,e),c=t=>s("/login",t),l=t=>s("/send_sms",t),u=t=>s("/send_email",t),d=t=>s("/update_password",t),h=t=>s("/check_keys",t),p=t=>s("/register",t),m=t=>s("/save_report",t),f=t=>s("/save_spec",t),g=t=>s("/del_spec",t),b=t=>o("/get_spec/parentOne",t),w=t=>o("/get_spec/parentArea",t),_=t=>s("/stocks_1d_by_weight",t),k=t=>s("/stocks_1d_by_len",t),y=t=>s("/stocks_2d_by_weight",t),v=t=>s("/stocks_2d_by_area",t,{timeout:3e6})},ec26:function(t,e,r){"use strict";const a="undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var n={randomUUID:a};let o;const s=new Uint8Array(16);function i(){if(!o&&(o="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(s)}const c=[];for(let d=0;d<256;++d)c.push((d+256).toString(16).slice(1));function l(t,e=0){return(c[t[e+0]]+c[t[e+1]]+c[t[e+2]]+c[t[e+3]]+"-"+c[t[e+4]]+c[t[e+5]]+"-"+c[t[e+6]]+c[t[e+7]]+"-"+c[t[e+8]]+c[t[e+9]]+"-"+c[t[e+10]]+c[t[e+11]]+c[t[e+12]]+c[t[e+13]]+c[t[e+14]]+c[t[e+15]]).toLowerCase()}function u(t,e,r){if(n.randomUUID&&!e&&!t)return n.randomUUID();t=t||{};const a=t.random||(t.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e){r=r||0;for(let t=0;t<16;++t)e[r+t]=a[t];return e}return l(a)}e["a"]=u},ff57:function(t,e,r){"use strict";r.r(e);var a=r("8336"),n=r("b0af"),o=r("62ad"),s=r("a523"),i=r("4bd4"),c=r("132d"),l=r("adda"),u=r("da13"),d=r("5d23"),h=r("34c3"),p=r("0fd9"),m=r("0789"),f=r("8654"),g=function(){var t=this,e=t._self._c;return e(s["a"],{attrs:{id:"register","fill-height":"",tag:"section"}},[e(i["a"],{ref:"registerForm"},[e(p["a"],{attrs:{justify:"center"}},[e(o["a"],{attrs:{cols:"9"}},[e(m["e"],{attrs:{appear:""}},[e(n["a"],{staticClass:"pa-3 pa-md-5 mx-auto",attrs:{light:""}},[e("pages-heading",{staticClass:"text-center display-3"},[t._v("\n              注册账号\n            ")]),e(p["a"],[e(o["a"],{attrs:{cols:"12",md:"6"}},[e(p["a"],{attrs:{"no-gutters":""}},t._l(t.sections,(function(r,a){return e(o["a"],{key:a,attrs:{cols:"12"}},[e(u["a"],{attrs:{"three-line":""}},[e(h["a"],{staticClass:"mr-4 mt-5 mt-md-4"},[e(c["a"],{attrs:{large:t.$vuetify.breakpoint.mdAndUp,color:r.iconColor},domProps:{textContent:t._s(r.icon)}})],1),e(d["a"],[e(d["c"],{staticClass:"font-weight-light mb-4 mt-3",domProps:{textContent:t._s(r.title)}}),e(d["b"],{domProps:{textContent:t._s(r.text)}})],1)],1)],1)})),1)],1),e(o["a"],{attrs:{cols:"12",md:"6"}},[e("div",{staticClass:"text-center"},[t._l(t.socials,(function(r,n){return e(a["a"],{key:n,staticClass:"my-2 mr-1",attrs:{color:r.iconColor,dark:"",depressed:"",fab:"",small:""}},[e(c["a"],{domProps:{textContent:t._s(r.icon)}})],1)})),e("div",{staticClass:"my-2"}),e(f["a"],{attrs:{color:"secondary",label:"用户名...",rules:t.usernameValidation,"prepend-icon":"mdi-account"},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}}),e(f["a"],{attrs:{color:"secondary",label:"手机号或邮箱...",rules:t.emailValidation,"prepend-icon":"mdi-file-phone-outline"},model:{value:t.phoneOrmail,callback:function(e){t.phoneOrmail=e},expression:"phoneOrmail"}}),e(f["a"],{attrs:{label:"密码...","append-icon":t.show?"mdi-eye":"mdi-eye-off",rules:t.passwordValidation,type:t.show?"text":"password",color:"secondary","prepend-icon":"mdi-lock-outline"},on:{"click:append":function(e){e.preventDefault(),t.show=!t.show}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e(f["a"],{attrs:{label:"密码...","append-icon":t.show2?"mdi-eye":"mdi-eye-off",rules:t.passwordValidation,type:t.show2?"text":"password",color:"secondary","prepend-icon":"mdi-lock-outline"},on:{"click:append":function(e){e.preventDefault(),t.show2=!t.show2}},model:{value:t.repassword,callback:function(e){t.repassword=e},expression:"repassword"}}),e(p["a"],[e(o["a"],{attrs:{cols:"8"}},[e(f["a"],{attrs:{color:"secondary",label:"图片验证码...","prepend-icon":"mdi-alert-decagram"},model:{value:t.loginImgCode,callback:function(e){t.loginImgCode=e},expression:"loginImgCode"}})],1),e(o["a"],{attrs:{cols:"4"}},[e(l["a"],{attrs:{src:this.base64image,height:"40",width:"120",contain:""},on:{click:function(e){return t.reloadImg()}}}),e("div",{attrs:{align:"right"}},[e("span",{staticClass:"font-weight-light",staticStyle:{"font-size":"8px",color:"#3c4858"},attrs:{align:"right"}},[e("a",{staticClass:"secondary--text",staticStyle:{"text-decoration":"none"},attrs:{href:"#",rel:"noopener"},on:{click:function(e){return t.reloadImg()}}},[t._v("\n                            点击刷新\n                          ")])])])],1)],1),e("pages-btn",{attrs:{color:"success"},on:{click:function(e){return t.register()}}},[t._v("\n                    注册\n                  ")]),e("br"),e(a["a"],{staticClass:"mb-8",attrs:{color:"#F48FB1",dark:"",text:""},on:{click:function(e){return t.gotoLogin()}}},[t._v("\n                    已有账号了，请登录\n                  ")])],2)])],1)],1)],1)],1)],1)],1),e("base-material-snackbar",t._b({attrs:{timeout:2e3,type:t.color},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},"base-material-snackbar",{top:!0,center:!0},!1),[e("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.snackbarMsg))])])],1)},b=[],w=r("ec26"),_=r("7c15"),k={name:"PagesRegister",components:{PagesBtn:()=>r.e("chunk-2d22e0db").then(r.bind(null,"f9b4")),PagesHeading:()=>r.e("chunk-2d2073c0").then(r.bind(null,"a050"))},data:()=>({account:null,phoneOrmail:null,password:null,repassword:null,show:!1,show2:!1,snackbar:!1,color:"info",snackbarMsg:"",base64image:"",loginuuid:"",loginImgCode:"",sections:[{icon:"mdi-chart-timeline-variant",iconColor:"primary",title:"持续更新",text:"您不会被过时的应用程序困住。保持在线运行，并定期更新，因此您不必为未来的升级付费或一次又一次地安装新的更新包。"},{icon:"mdi-code-tags",iconColor:"secondary",title:"数据隐私",text:"不记录保存计算的数据，保护公司和个人业务隐私。个人信息加密存储绝不会泄露任何信息。"},{icon:"mdi-account-multiple",iconColor:"cyan",title:"专业团队",text:"专业工程师将第一时间保障服务正常运行，快速、高效解决您的需求"}],socials:[{href:"#",icon:"mdi-email",iconColor:"#1DA1F2"},{href:"#",icon:"mdi-phone",iconColor:"#ea4c89"},{href:"#",icon:"mdi-account",iconColor:"#3B5998"}]}),created(){this.loginuuid=Object(w["a"])(),this.getImage()},computed:{usernameValidation:function(){return[t=>this.checkLen_forValidate(t)||"账号名称至少6位"]},emailValidation:function(){return[t=>this.checkInput_forValidate(t)||"手机号或邮箱格式不对"]},passwordValidation:function(){return[t=>this.checkLen_forValidate(t)||"密码至少6位"]}},methods:{checkLen_forValidate:function(t){return!(t&&t.length<6)},checkInput_forValidate:function(t){const e=/^[1][2,3,4,5,6,7,8,9][0-9]{9}$/,r=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+$/;return!!e.test(t)||!!r.test(t)},checkInput:function(t){const e=/^[1][2,3,4,5,6,7,8,9][0-9]{9}$/,r=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+$/;return e.test(t)?"phone":r.test(t)?"email":"手机号码或邮箱格式不正确，请重新填写"},gotoLogin:function(){this.$router.replace("/pages/login")},reloadImg:function(){this.getImage()},getImage:function(){let t="/captcha/"+this.loginuuid;Object(_["a"])(t).then(t=>{console.log(t),this.base64image="data:image/png;base64,"+t.data,console.log(this.base64image)}).catch(t=>{console.log("Network/Server error"),console.error(t)})},alertErr:function(t,e){this.snackbar=!0,this.color=!0===t?"error":"info",this.snackbarMsg=e},register:function(){if(null==this.account||""==this.account||this.account.length<6)return void this.alertErr(!0,"请输入您的账号,账号至少6位");if(null==this.password&&""==this.password||!(this.password.length>=6))return void this.alertErr(!0,"请修改您的密码,密码最少6位。");if(this.password!=this.repassword)return void this.alertErr(!0,"两次密码输入不同，请修改您的密码");let t={account:this.account,pwd:this.password,phone:"",email:"",register_type:"Password",uuid:this.loginuuid,code:this.loginImgCode};if("phone"!=this.checkInput(this.phoneOrmail)&&"email"!=this.checkInput(this.phoneOrmail))return void this.alertErr(!0,"手机号或邮箱地址格式错误，请修正");"phone"==this.checkInput(this.phoneOrmail)&&(t.phone=this.phoneOrmail),"email"==this.checkInput(this.phoneOrmail)&&(t.email=this.phoneOrmail);let e={account:this.account};Object(_["d"])(e).then(e=>{1!=e.data.account?Object(_["g"])(t).then(t=>{console.log(t),0==t.code&&(this.alertErr(!1,"已注册完成，请登录"),setTimeout(()=>{this.$router.replace("/pages/login")},1e3))}).catch(t=>{this.alertErr(!0,t)}):this.alertErr(!0,"您的账号已存在，请修改")}).catch(t=>{this.alertErr(!0,t)})}}},y=k,v=(r("13cd"),r("2877")),C=Object(v["a"])(y,g,b,!1,null,null,null);e["default"]=C.exports}}]);
//# sourceMappingURL=chunk-b9b47754.3f192bd6.js.map